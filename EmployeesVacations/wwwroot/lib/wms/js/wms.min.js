(function(n){if(window.jQuery)n(window.jQuery);else throw new Error("Requires jQuery");})(function(n){"use strict";if(window.WMS)return window.WMS;var t={};window.WMS=t;t.IsDefined=function(n){return n!=undefined};t.IsUndefined=function(n){return typeof n=="undefined"};t.IsString=function(n){return typeof n=="string"};t.IsNotEmptyString=function(t){return n.isString(t)&&t!==""};t.IsNumber=function(n){return typeof n=="number"};t.IsBoolean=function(n){return typeof n=="boolean"};t.IsArray=Array.isArray;n.isDefined=t.IsDefined;n.isUndefined=t.IsUndefined;n.isString=t.IsString;n.isNotEmptyString=t.IsNotEmptyString;n.isNumber=t.IsNumber;n.isBoolean=t.IsBoolean;n.isArray=t.IsArray;String.prototype.escapeHtml=function(){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#x60;","=":"&#x3D;","/":"&#x2F;"};return this.replace(/[&<>"'`=\/]/g,function(t){return n[t]})},function(){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(n,t){function e(n,t){return n===t||typeof n=="number"&&typeof t=="number"&&isNaN(n)&&isNaN(t)}var f,i,r,u;if(this==null)throw new TypeError('"this" is null or not defined');if(f=Object(this),i=f.length>>>0,i===0)return!1;for(r=t|0,u=Math.max(r>=0?r:i-Math.abs(r),0);u<i;){if(e(f[u],n))return!0;u++}return!1}});Array.prototype.contains=Array.prototype.includes}();t.$=n;t.$window=n(window);t.$document=n(document);t.Support={};t.Support.Transition=function(){var n=function(){var r=document.body||document.documentElement,n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in n)if(t.IsDefined(r.style[i]))return n[i]}();return n&&{end:n}}();t.Support.Animation=function(){var n=function(){var r=document.body||document.documentElement,n={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var i in n)if(t.IsDefined(r.style[i]))return n[i]}();return n&&{end:n}}(),function(){var i,n,t,r;for(Date.now=Date.now||function(){return(new Date).getTime()},i=["webkit","moz"],n=0;n<i.length&&!window.requestAnimationFrame;++n)t=i[n],window.requestAnimationFrame=window[t+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"];!/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)&&window.requestAnimationFrame&&window.cancelAnimationFrame||(r=0,window.requestAnimationFrame=function(n){var t=Date.now(),i=Math.max(r+16,t);return setTimeout(function(){n(r=i)},i-t)},window.cancelAnimationFrame=clearTimeout)}();t.Support.Touch="ontouchstart"in document||window.DocumentTouch&&document instanceof window.DocumentTouch||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0||!1;t.Support.MutationObserver=window.MutationObserver||window.WebKitMutationObserver||null;t.Utils={};t.Utils.StrVars=function(t,i){return t.replace(/(^|[^\\]){{([0-9A-Z_\|]*)}}/gi,function(t,r,u){for(var e=u.split("|"),f=0;f<e.length;f++)if(n.isDefined(i[e[f]]))return r+i[e[f]];return t}).replace(/\\({{[0-9A-Z_\|]*}})/gi,function(n,t){return t})};t.Utils.PropVars=function(t,i){for(var r in t)n.isString(t[r])&&(t[r]=n.replaceVars(t[r],i));return t};t.Utils.DataFor=function(t,i,r){return i&&r?r[t]=i:n.isPlainObject(i)?r=i:(r={},r[t]=i),r};t.Utils.UId=function(){return(new Date).getTime()};t.Utils.StrUId=function(n){return(n||"id")+t.Utils.UId()+"RAND"+Math.ceil(Math.random()*1e5)};t.Window={};t.Window.Resize=function(){t.$window.resize()};t.$window.resize(function(){t.Window.height=t.$window.height();t.Window.width=t.$window.width();t.Window.isSmall=t.Ajax.Page.width<=767});t.$window.on("load",function(){t.Window.Resize()});return t}),function(n){if(window.WMS)n(window.WMS,window.WMS.$);else throw new Error("Requires WMS Core");}(function(n,t){"use strict";return n.Document={},n.Document.$html=t("html"),n.Document.$body=t("body"),n.Document.Options={DefaultTitle:""},t.fn.findAll=function(n){var i=t(this);return i.filter(n).add(i.find(n))},n.Document.SetTitle=function(t){document.title=n.Document.Options.DefaultTitle+(n.IsNotEmptyString(t)?" - "+t:"")},n.Document.ParseHTML=function(n){return t.parseHTML(n,document,!0)},n.Document.ExtractContainer=function(i,r){var u={},h=/<html/i.test(i),o,f,s,e;return(h?(f=t(n.Document.ParseHTML(i.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0])),s=i.match(/<head[^>]*>([\s\S.]*)<\/head>/i),o=s!=null?t(n.Document.ParseHTML(s[0])):f):o=f=t(n.Document.ParseHTML(i)),f.length===0)?u:(u.title=o.findAll("title").last().text(),r?(e=r==="body"?f:f.findAll(r).first(),e.length&&(u.contents=r==="body"?e:e.contents(),u.title||(u.title=e.attr("title")||e.data("title")))):h||(u.contents=f),u.contents&&(u.contents=u.contents.not(function(){return t(this).is("title")}),u.contents.find("title").remove(),u.scripts=u.contents.findAll("script[src]").remove(),u.contents=u.contents.not(u.scripts)),u.title&&(u.title=t.trim(u.title)),u)},n.Document.ExecuteScriptTags=function(n){if(n){var i=t("script[src]");n.each(function(){var u=this.src,n,r;i.filter(function(){return this.src===u}).length||(n=document.createElement("script"),r=t(this).attr("type"),r&&(n.type=r),n.src=t(this).attr("src"),document.head.appendChild(n))})}},n.Document.ReplaceContents=function(i,r,u){t.isFunction(u)&&(u={complete:u});n.Document.SetTitle(r.title);i.stop(!0).fadeOut(function(){t.isFunction(u.beforeReplace)&&u.beforeReplace();i.html(r.contents).fadeIn(function(){t.isFunction(u.complete)&&u.complete()});t.isFunction(u.afterReplace)&&u.afterReplace()})},n.Document.CloneContents=function(n){var i=n.clone();return i.find("script").each(function(){this.src||t._data(this,"globalEval",!1)}),i.contents()},n.Document}),function(n){if(window.WMS)n(window.WMS,window.WMS.$);else throw new Error("Requires WMS Core");}(function(n,t){"use strict";return n.UI={},n.UI.LoadingSpinner=function(){var n={},i=0,r=!1;return n.$spinner=null,n.Init=function(i){n.$spinner=t(i)},n.Show=function(){i<=0&&!r&&n.$spinner.stop(!0).fadeIn();i++},n.Hide=function(){i--;i<=0&&!r&&n.$spinner.stop(!0).fadeOut()},n.Disable=function(){n.$spinner.stop(!0).hide();r=!0},n.Enable=function(){i>0&&n.$spinner.stop(!0).show();r=!1},n}(),n.UI.$notify=function(){var r={},i={},f=function(n){return t.type(n)=="string"&&(n={message:n}),arguments[1]&&(n=t.extend(n,t.type(arguments[1])=="string"?{status:arguments[1]}:arguments[1])),new u(n).show()},e=function(n,t){var r;if(n)for(r in i)n===i[r].group&&i[r].close(t);else for(r in i)i[r].close(t)},u=function(f){this.options=t.extend({},u.defaults,f);this.uuid=n.Utils.StrUId("notifymsg");this.element=t('<div class="ui-notify-message"><a class="ui-close"><\/a><div><\/div><\/div>').data("notifyMessage",this);this.content(this.options.message);this.options.status&&(this.element.addClass("alert-"+this.options.status),this.currentstatus=this.options.status);this.group=this.options.group;i[this.uuid]=this;r[this.options.pos]||(r[this.options.pos]=t('<div class="ui-notify ui-notify-'+this.options.pos+'"><\/div>').appendTo("body").on("click",".ui-notify-message",function(){var n=t(this).data("notifyMessage");n.element.trigger("manualclose.ui.notify",[n]);n.close()}))};return t.extend(u.prototype,{uuid:!1,element:!1,timout:!1,currentstatus:"",group:!1,show:function(){var n,t;if(!this.element.is(":visible"))return n=this,r[this.options.pos].show().prepend(this.element),t=parseInt(this.element.css("margin-bottom"),10),this.element.css({opacity:0,marginTop:-1*this.element.outerHeight(),marginBottom:0}).animate({opacity:1,marginTop:0,marginBottom:t},function(){if(n.options.timeout){var t=function(){n.close()};n.timeout=setTimeout(t,n.options.timeout);n.element.hover(function(){clearTimeout(n.timeout)},function(){n.timeout=setTimeout(t,n.options.timeout)})}}),this},close:function(n){var t=this,u=function(){t.element.remove();r[t.options.pos].children().length||r[t.options.pos].hide();t.options.onClose.apply(t,[]);t.element.trigger("close.ui.notify",[t]);delete i[t.uuid]};this.timeout&&clearTimeout(this.timeout);n?u():this.element.animate({opacity:0,marginTop:-1*this.element.outerHeight(),marginBottom:0},function(){u()})},content:function(n){var t=this.element.find(">div");return n?(t.html(n),this):t.html()},status:function(n){return n?(this.element.removeClass("alert-"+this.currentstatus).addClass("alert-"+n),this.currentstatus=n,this):this.currentstatus}}),u.defaults={message:"",status:"",timeout:5e3,group:null,pos:"top-center",onClose:function(){}},f.message=u,f.closeAll=e,f}(),n.UI.Notify=function(i,r){t.isString(i)&&(i={message:i});r=t.extend({},i,t.isDefined(r)?t.isString(r)||t.isNumeric(r)?{status:r}:r:{});var u={message:"",status:"info",icon:!0,timeout:5e3,pos:"bottom-left",onClose:t.noop};if(r=t.extend({},u,r),t.isNumeric(r.status))if(r.status<=0)r.status="danger";else switch(r.status){case 1:r.status="success";break;case 3:r.status="warning";break;default:r.status="info"}if(r.icon){if(!t.isString(r.icon))switch(r.status){case"success":r.icon="check-circle";break;case"info":r.icon="info-circle";break;case"warning":r.icon="exclamation-circle";break;case"danger":r.icon="times-circle"}r.message='<i class="fa fa-'+r.icon+'"><\/i> '+r.message}n.UI.$notify(r)},n.UI}),function(n){if(window.WMS)n(window.WMS,window.WMS.$);else throw new Error("Requires WMS Core");}(function(n,t){"use strict";function h(n,t){var i=document.createElement("a");return i.href=n,t&&(i.hash=t),i}function f(t){window.history.replaceState(null,"",n.Ajax.State.url);window.location.replace(t)}function c(n){n&&n.readyState<4&&(n.onreadystatechange=t.noop,n.abort())}function l(n){return n.href.replace(/#.*/,"")}function a(i,r,u){u=n.Utils.DataFor("container",r,u);return this.on("click.ajax",i,function(n){var i=u;i.container||(i=t.extend({},u),i.container=t(this).attr("data-ajax-container"));v(n,i)})}function v(i,r,u){var f,e;if(u=n.Utils.DataFor("container",r,u),f=i.currentTarget,e=t(f),f.tagName.toUpperCase()!=="A")throw"ajax click requires an anchor element";if(!(i.which>1)&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&!i.altKey&&location.protocol===f.protocol&&location.hostname===f.hostname&&(!(f.href.indexOf("#")>-1)||l(f)!=l(location))&&!i.isDefaultPrevented()){var h={url:f.href,container:e.attr("data-ajax-container"),target:f},o=t.extend({},h,u),s=t.Event("ajax:click");e.trigger(s,[o]);s.isDefaultPrevented()||(n.Pjax(o),i.preventDefault(),e.trigger("ajax:clicked",[o]))}}function p(u){var s,e,a,l;if(r||c(n.Ajax.xhr),s=n.Ajax.State,e=u.state,e&&e.container){if(r&&y==e.url)return;if(s){if(s.id===e.id)return;a=s.id<e.id?"forward":"back"}var v=i[e.id]||[],p=v[0]||e.container,o=t(p),h={title:e.title,contents:v[1]};o.length?(s&&b(a,s.id,n.Document.cloneContents(o)),o.trigger(t.Event("ajax:popstate",{state:e,direction:a})),l={id:e.id,url:e.url,container:p,push:!1,fragment:e.fragment,timeout:e.timeout,scrollTo:!1},h.contents?(n.Ajax.State=e,o.trigger(t.Event("ajax:beforeReplace",{state:e,previousState:s}),[h,l]),n.Document.ReplaceContents(o,h,{afterReplace:function(){o.trigger(t.Event("ajax:afterReplace"),[h,l])},complete:function(){o.trigger(t.Event("ajax:replaceComplete"),[h,l])}})):n.Pjax(l),o[0].offsetHeight):f(location.href)}r=!1}function w(t,r){i[t]=r;u.push(t);s(o,0);s(u,n.Ajax.Settings.maxCacheLength)}function b(t,r,f){var e,h;i[r]=f;t==="forward"?(e=u,h=o):(e=o,h=u);e.push(r);(r=h.pop())&&delete i[r];s(e,n.Ajax.Settings.maxCacheLength)}function s(n,t){while(n.length>t)delete i[n.shift()]}n.Ajax=function(i,r){function o(n,i,f){if(u.length){f||(f={});f.relatedTarget=r.target;var e=t.Event(n,f);return u.trigger(e,i),!e.isDefaultPrevented()}}var s,e,u,l,v,y,p,b,a;if(r=t.extend(!0,{},t.ajaxSettings,n.Ajax.Settings,n.Utils.DataFor("url",i,r)),t.isFunction(r.url)&&(r.url=r.url()),s=r.container,n.IsDefined(s)&&!n.IsString(s))throw"expected string value for 'container' option";if(e=r.push||r.replace,u=r.context=t(r.container),e&&!u.length)throw"the container selector '"+r.container+"' did not match anything";u.selector=s;l=h(r.url).hash;y=r.beforeSend;r.beforeSend=function(i,f){if(f.type!=="GET"&&(f.timeout=0),i.setRequestHeader("X-AJAX","true"),e&&i.setRequestHeader("X-PJAX","true"),u.length&&i.setRequestHeader("X-AJAX-Container",s),n.Ajax.Security.XsrfRequestToken&&!n.Ajax.Security.XsrfIgnoreMethods.contains(f.type)&&i.setRequestHeader(n.Ajax.Security.XsrfHeaderName,t.isFunction(n.Ajax.Security.XsrfRequestToken)?n.Ajax.Security.XsrfRequestToken():n.Ajax.Security.XsrfRequestToken),(t.isFunction(y)&&y(i,f)===!1)|o("ajax:beforeSend",[i,f])===!1)return!1;f.timeout>0&&(v=setTimeout(function(){o("ajax:timeout",[i,r])&&i.abort("timeout")},f.timeout),f.timeout=0);r.requestTarget=h(f.url,l);r.requestUrl=r.requestTarget.href;n.UI.LoadingSpinner.Show()};p=r.complete;r.complete=function(i,u){v&&clearTimeout(v);o("ajax:complete",[i,u,r]);t.isFunction(p)&&p(i,u,r);n.UI.LoadingSpinner.Hide()};b=r.error;r.error=function(i,u,s){var h=(t.isFunction(b)&&b(i,u,s,r)===!1)|o("ajax:error",[i,u,s,r])===!1;!h&&r.type=="GET"&&u!=="abort"&&e?(setTimeout(function(){f(r.requestUrl)},2e3),n.UI.Notify("Error... Page will reload!",{status:"danger"})):h||u==="abort"||n.UI.Notify("Error... Please try again!",{status:"danger"})};var k=r.success,d=r.beforeReplace,g=r.afterReplace,nt=r.replaceComplete;return r.success=function(i,s,h){var c,a,v;if(u.length){if(c=n.Document.ExtractContainer(i,r.fragment),a=n.Ajax.state,e){if(!c.contents){f(r.requestUrl);return}n.Ajax.State={id:r.id||n.Utils.UId(),url:r.requestUrl,title:c.title,container:r.container,fragment:r.fragment,timeout:r.timeout};window.history.replaceState(n.Ajax.State,c.title||"",r.requestUrl)}if(v=t.contains(u,document.activeElement),v)try{document.activeElement.blur()}catch(y){}o("ajax:beforeReplace",[c,r],e?{state:n.Ajax.State,previousState:a}:{});t.isFunction(d)&&d(c,r);n.Document.ReplaceContents(u,c,{afterReplace:function(){o("ajax:afterReplace",[c,r]);t.isFunction(g)&&g(c,r)},complete:function(){var f=u.find("input[autofocus], textarea[autofocus]").last()[0],i,e,s;f&&document.activeElement!==f&&f.focus();n.Document.ExecuteScriptTags(c.scripts);i=r.scrollTo;l&&(e=decodeURIComponent(l.slice(1)),s=document.getElementById(e)||document.getElementsByName(e)[0],s&&(i=t(s).offset().top));n.IsNumber(i)&&n.$window.scrollTop(i);o("ajax:replaceComplete",[c,r]);t.isFunction(nt)&&nt(c,r)}})}o("ajax:success",[i,s,h,r]);t.isFunction(k)&&k(i,s,h,r)},e&&(n.Ajax.State||(n.Ajax.State={id:n.Utils.UId(),url:window.location.href,title:document.title,container:u.selector,fragment:r.fragment,timeout:r.timeout},window.history.replaceState(n.Ajax.State,n.Ajax.State.title)),c(n.Ajax.xhr)),a=n.$ajax(r),e&&(n.Ajax.xhr=a,a.readyState>0&&r.push&&!r.replace&&(w(n.Ajax.State.id,n.Document.CloneContents(u)),window.history.pushState(null,"",r.requestUrl))),a};n.Ajax.Settings={timeout:0,push:!1,replace:!1,scrollTo:!1,maxCacheLength:0};n.Ajax.Security={XsrfRequestToken:null,XsrfHeaderName:"X-CSRF-TOKEN",XsrfIgnoreMethods:["GET","HEAD","OPTIONS","TRACE"]};n.Ajax.Action=function(i,r,u){var f=n.Utils.DataFor("action",r,u.data);n.Ajax({type:"POST",dataType:"json",url:i,data:f,success:function(i){(t.isDefined(u.notify)?u.notify:!0)&&t.isDefined(i.msg)&&t.isDefined(i.result)&&n.UI.Notify(i.msg,i.result);t.isFunction(u.success)&&u.success(i)},error:function(){t.isFunction(u.error)&&u.error()},complete:function(){t.isFunction(u.complete)&&u.complete()}})};n.Ajax.Form=function(i,r){return t(i).each(function(){var u=t(this),i=t.extend({},n.Ajax.Form.Settings,r),e,f,s,o;i.url=i.url||u.attr("action")||"/";i.type=i.type||u.attr("method")||"POST";o=function(r){var u=t.isDefined(r.result)&&r.result>0;i.notify&&t.isDefined(r.msg)&&t.isDefined(r.result)&&r.result>=0&&n.UI.Notify(r.msg,r.result);f.html(u?i.successText:i.errorText);window.setTimeout(function(){f.html(s);e.prop("disabled",!1)},5e3);u&&t.isFunction(i.success)&&i.success(r);!u&&t.isFunction(i.error)&&i.error(r)};u.$ajaxForm({url:i.url,type:i.type,dataType:i.dataType,data:i.data,beforeSerialize:function(n){u=n;e=t(":input",u).add(i.inputs);f=t(":submit",u).add(i.submit)},beforeSubmit:function(){s=f.html();e.prop("disabled",!0);f.html(i.loadingText)},success:function(n){o(n)},error:function(){o({msg:"Error... Please try again",result:-1})}})})};n.Ajax.Form.Settings={dataType:"json",loadingText:"Loading...",successText:"Success",errorText:"Error!",notify:!0};n.Pjax=function(i,r){return n.Ajax(t.extend({},n.Pjax.Settings,n.Utils.DataFor("url",i,r)))};n.Pjax.Settings={timeout:0,push:!0,replace:!1,type:"GET",dataType:"html"};n.Ajax.Page={};n.Ajax.Page.Settings={wrapper:"#wrapper",contentWrapper:"#contentWrapper",pageWrapper:"#page-wrapper",logo:"#logo",navigationTop:"#navigation-top",navbarTop:"#navbar-top",navbarTopToggle:"#navbar-top-toggle",navbarTopLeft:"#navbar-top-left",loadingSpinner:"#loading-spinner",navbarUserName:"#navbar-user-name"};n.Ajax.Page.CurrentLocation=function(){return location.pathname+location.search+location.hash};n.Ajax.Page.Get=function(n,t,i){ajax({url:n,data:i,success:t})};n.Ajax.Page.Load=function(t,i,r,u){t=t||n.Ajax.Page.CurrentLocation();i=i||n.Ajax.Page.Settings.contentWrapper;(u?n.Pjax:n.Ajax)({url:t,container:i,success:r})};n.Ajax.Page.onLoad=function(){n.UI.LoadingSpinner.Init(n.Ajax.Page.Settings.loadingSpinner);t(n.Ajax.Page.Settings.navigationTop).pjax("a:not([data-action]):not([data-toggle]):not([disabled]):not([data-download-url])",n.Ajax.Page.Settings.contentWrapper);t(n.Ajax.Page.Settings.contentWrapper).pjax('a:not([data-action]):not([data-toggle]):not([disabled]):not([data-download-url]):not([data-ajax-container="contentWrapper"])',n.Ajax.Page.Settings.pageWrapper);t(n.Ajax.Page.Settings.contentWrapper).pjax('a[data-ajax-container="contentWrapper"]',n.Ajax.Page.Settings.contentWrapper)};n.Ajax.Page.onResize=function(){n.Window.isSmall||!t(n.Ajax.Page.Settings.navbarTop).is(":visible")?t(n.Ajax.Page.Settings.loadingSpinner).insertAfter(n.Ajax.Page.Settings.logo):t(n.Ajax.Page.Settings.loadingSpinner).insertAfter(n.Ajax.Page.Settings.navbarTopLeft)};n.Ajax.Page.Init=function(){n.$window.on("load",n.Ajax.Page.onLoad);n.$window.resize(n.Ajax.Page.onResize)};var r=!0,y=window.location.href,e=window.history.state;e&&e.container&&(n.Ajax.State=e);"state"in window.history&&(r=!1);var i={},o=[],u=[];return n.Ajax.Init=function(){n.$ajax=t.ajax;t.ajax=n.Ajax;t.fn.pjax=a;t.fn.$ajaxForm=t.fn.ajaxForm;t.fn.ajaxForm=function(t){n.Ajax.Form(this,t)};n.$window.on("popstate.ajax",p)},n.Ajax}),function(n){if(window.WMS)n(window.WMS,window.WMS.$);else throw new Error("Requires WMS Core");}(function(n,t){"use strict";return n.User={},n.User.CheckLogin=function(i,r){n.Ajax.Action("/Auth","CheckSignedIn",{notify:!1,success:function(u){var s,e,o,f;n.User.IsSignedIn=u.IsSignedIn;n.User.Data=u.User;s="";e="";n.User.IsSignedIn?(t(n.Ajax.Page.Settings.logo).attr("href","/"),e=n.User.Data.userName,r?n.Ajax.Page.Load("/",null,null,!0):n.Ajax.Page.Load()):(t(n.Ajax.Page.Settings.logo).attr("href","javascript:void(0)"),n.Ajax.Page.Load("/Auth/Login"));n.Window.isSmall?(o=t(n.Ajax.Page.Settings.navbarTop),f=t(n.Ajax.Page.Settings.navbarTopToggle)):(o=t(n.Ajax.Page.Settings.navbarTopToggle),f=t(n.Ajax.Page.Settings.navbarTop));f.fadeOut({complete:function(){t(n.Ajax.Page.Settings.navbarTopLeft).html(s);t(n.Ajax.Page.Settings.navbarUserName).text(e);n.User.IsSignedIn&&f.fadeIn({start:function(){o.show();n.Window.Resize();n.UI.LoadingSpinner.Enable()}})},done:function(){n.Window.Resize();n.User.IsSignedIn&&n.UI.LoadingSpinner.Disable()}});t.isFunction(i)&&i(u)}})},n.User.Signout=function(){bootbox.confirm({title:'<i class="fa fa-sign-out"><\/i> Sign out',message:"Are you sure that you want to sign out?",buttons:{confirm:{label:'<i class="fa fa-sign-out"><\/i> Sign out'}},callback:function(i){i&&n.Ajax.Action("/Auth","Logout",{success:function(){t.ajax("/?_storeXsrfToken=1",{success:function(){n.User.CheckLogin(null,!0)}})},error:n.User.CheckLogin})}})},n.User.Init=function(){n.$window.on("load",function(){t(n.Ajax.Page.Settings.navigationTop).find("a[data-action]").click(function(i){i.preventDefault();t(this).data("action")=="signout"&&n.User.Signout()});n.User.CheckLogin()})},n.User}),function(n){if(window.WMS)n(window.WMS,window.WMS.$);else throw new Error("Requires WMS Core");}(function(n,t){"use strict";return n.Init=function(){t.validator.setDefaults({errorElement:"span",errorClass:"help-block",highlight:function(n){t(n).closest(".form-group").addClass("has-error")},unhighlight:function(n){t(n).closest(".form-group").removeClass("has-error")},errorPlacement:function(n,t){t.parent(".input-group").length||t.prop("type")==="checkbox"||t.prop("type")==="radio"?n.insertAfter(t.parent()):n.insertAfter(t)}});t.fn.dataTable.defaults.bAutoWidth=!1;t.fn.dataTable.defaults.column.mRender=t.fn.dataTable.render.text();n.Ajax.Init();n.Ajax.Page.Init();n.User.Init()},n});